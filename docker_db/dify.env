# Dify 家庭服务器 Docker 配置
# 生成时间: 2024-12-19

# =================================
# 端口配置
# =================================
POSTGRES_PORT=5432
REDIS_PORT=6379
WEAVIATE_PORT=8080

# =================================
# PostgreSQL 数据库配置
# =================================
POSTGRES_DB=dify
POSTGRES_USER=dify
POSTGRES_PASSWORD=dify123456

# =================================
# Redis 配置
# =================================
REDIS_PASSWORD=123456

# Redis 内存配置
REDIS_MAXMEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Redis 持久化配置
REDIS_SAVE_900=1
REDIS_SAVE_300=10
REDIS_SAVE_60=10000
REDIS_APPENDONLY=yes
REDIS_APPENDFSYNC=everysec

# Redis 网络配置
REDIS_TCP_KEEPALIVE=300
REDIS_TIMEOUT=0
REDIS_MAXCLIENTS=10000

# Redis 日志配置
REDIS_LOGLEVEL=notice

# Redis 慢查询配置
REDIS_SLOWLOG_LOG_SLOWER_THAN=10000
REDIS_SLOWLOG_MAX_LEN=128

# Redis 数据库数量
REDIS_DATABASES=16

# =================================
# Weaviate 向量数据库配置
# =================================
WEAVIATE_API_KEY=weaviate-api-key-123456

# =================================
# 开发环境配置 (用于其他机器连接)
# =================================
# 请将 YOUR_SERVER_IP 替换为实际的服务器IP地址
SERVER_IP=YOUR_SERVER_IP

# 完整连接字符串示例:
# DB_URL=postgresql://dify:dify123456@YOUR_SERVER_IP:5432/dify
# REDIS_URL=redis://:redis123456@YOUR_SERVER_IP:6379
# WEAVIATE_URL=http://YOUR_SERVER_IP:8080 